Create a github a account if you don't already have one. Go to:

https://github.com/join

{Remember your username and password!}

----

Create a directory for our singularity container:

mkdir rmacc_container

-----

Go to that directory

cd rmacc_container

-----

Let's create a recipe file  from an existing template

git clone XXXX

nano Singularity

make the following edits

-----
Now create an input file in your directory

echo "test input file" >testfile.txt

-----

Okay, now we are ready to build the container on singularity hub. The steps to do that are:

XXXX

----

We've automated the github upload process for you by making a script.
All you will need are your github username and password

wget XXXX
chmod +x make_git_repo.sh
./make_git_repo.sh <your_github_username>

-----

Okay, now you should have a github repository called "rmacc_container" at:

https://github.com/<your_user_name>/rmacc_container/

..for example, mine is at:

https://github.com/monaghaa/rmacc_container/

Check to make sure it is there.

-----

Now that you've confirmed it is there, we are ready to build the container on Singularity hub.

Go to https://www.singularity-hub.org/

Go to the "login" link in the upper right corner and login with your github credentials
(choose "GITHUB", not "GITHUB (WITH PRIVATE)")

Go to "My container collections"

Go to "Add a Collection"

Choose "<your_github_username>/rmacc_container" and click on "SUBMIT"

This will take you another page while your container builds.  You can click "refresh" to check it's status.  It may take 5-10 min. Take a break.

----

Note: If your container builds successfully, you will see a green "Complete" button.  The container is now ready to use.

Now let's go back to your linux command prompt on Summit and pull and run the container:

singularity pull --name myfirstcontainer.img shub://<your_github_username>/rmacc_container

This will pull the container from Singularity Hub and name it "myfirstcontainer.img"

Now run it:

singularity run myfirstcontainer.img

[Note: If the container doesn't build successfully, look at the error messages, revise the "Singularity" file, run ./make_git_repo.sh again, and the rebuild it on Singularity hub.]

